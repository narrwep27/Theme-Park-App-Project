{"ast":null,"code":"import _regeneratorRuntime from\"/home/marvel/ga_seir/projects/theme-park-app-project/theme-park-app-project/back-end/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/marvel/ga_seir/projects/theme-park-app-project/theme-park-app-project/back-end/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/marvel/ga_seir/projects/theme-park-app-project/theme-park-app-project/back-end/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import ReactDom from'react-dom';import axios from'axios';import{BASE_URL}from'../globals';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Form(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),firstName=_useState2[0],setFirstName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),lastName=_useState4[0],setLastName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),age=_useState6[0],setAge=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),height=_useState8[0],setHeight=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),date=_useState10[0],setDate=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),submit=_useState12[0],setSubmit=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),entryFee=_useState14[0],setEntryFee=_useState14[1];var handleFirstNameChange=function handleFirstNameChange(e){setFirstName(e.target.value);};var handleLastNameChange=function handleLastNameChange(e){setLastName(e.target.value);};var handleAgeChange=function handleAgeChange(e){setAge(parseInt(e.target.value));};var handleHeightChange=function handleHeightChange(e){setHeight(e.target.value);};var handleDateChange=function handleDateChange(e){setDate(e.target.value);};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(submit===true)){_context.next=3;break;}return _context.abrupt(\"return\");case 3:setSubmit(true);_context.next=6;return axios.post(\"\".concat(BASE_URL,\"visitor\"),{firstName:firstName,lastName:lastName,age:age,height:height,dateEntry:date});case 6:_context.next=8;return axios.get(\"\".concat(BASE_URL,\"entryfee/\").concat(age));case 8:res=_context.sent;setEntryFee(res.data.fee);case 10:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var feeDisplay=undefined;if(submit===true){feeDisplay='Your ticket will cost $'+entryFee;}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleFirstNameChange,type:\"text\",placeholder:\"first name\",value:firstName}),/*#__PURE__*/_jsx(\"input\",{onChange:handleLastNameChange,type:\"text\",placeholder:\"last name\",value:lastName}),/*#__PURE__*/_jsx(\"input\",{onChange:handleAgeChange,type:\"number\",placeholder:\"age\",value:age}),/*#__PURE__*/_jsx(\"input\",{onChange:handleHeightChange,type:\"text\",placeholder:\"height\",value:height}),/*#__PURE__*/_jsx(\"input\",{onChange:handleDateChange,type:\"date\",placeholder:\"visit date\",value:date}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})]}),feeDisplay]});}","map":{"version":3,"sources":["/home/marvel/ga_seir/projects/theme-park-app-project/theme-park-app-project/back-end/client/src/components/Form.jsx"],"names":["React","useState","useEffect","ReactDom","axios","BASE_URL","Form","firstName","setFirstName","lastName","setLastName","age","setAge","height","setHeight","date","setDate","submit","setSubmit","entryFee","setEntryFee","handleFirstNameChange","e","target","value","handleLastNameChange","handleAgeChange","parseInt","handleHeightChange","handleDateChange","handleSubmit","preventDefault","post","dateEntry","get","res","data","fee","feeDisplay","undefined"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport ReactDom from 'react-dom'\r\nimport axios from 'axios'\r\nimport { BASE_URL } from '../globals';\r\n\r\nexport default function Form(){\r\n    const [firstName, setFirstName] = useState('');\r\n    const [lastName, setLastName] = useState('');\r\n    const [age, setAge] = useState('');\r\n    const [height, setHeight] = useState('');\r\n    const [date, setDate] = useState('');\r\n    const [submit, setSubmit] = useState(false);\r\n    const [entryFee, setEntryFee] = useState(0);\r\n\r\n    const handleFirstNameChange = (e) => {\r\n        setFirstName(e.target.value);\r\n    }\r\n\r\n    const handleLastNameChange = (e) => {\r\n        setLastName(e.target.value);\r\n    }\r\n\r\n    const handleAgeChange = (e) => {\r\n        setAge(parseInt(e.target.value));\r\n    }\r\n\r\n    const handleHeightChange = (e) => {\r\n        setHeight(e.target.value);\r\n    }\r\n\r\n    const handleDateChange = (e) => {\r\n        setDate(e.target.value);\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n        if (submit === true){\r\n            return\r\n        }\r\n        setSubmit(true)\r\n        await axios.post(`${BASE_URL}visitor`, {\r\n            firstName: firstName,\r\n            lastName: lastName,\r\n            age: age,\r\n            height: height,\r\n            dateEntry: date\r\n        })\r\n       const res = await axios.get(`${BASE_URL}entryfee/${age}`)\r\n       setEntryFee(res.data.fee)\r\n    }\r\n    let feeDisplay = undefined\r\n        if (submit === true){\r\n            feeDisplay = 'Your ticket will cost $' + entryFee\r\n        } \r\n\r\n    return (\r\n        <div>\r\n\r\n        <form onSubmit={handleSubmit}>\r\n            <input onChange = {handleFirstNameChange} type = 'text' placeholder = 'first name' value = {firstName}/>\r\n            <input onChange = {handleLastNameChange} type = 'text' placeholder = 'last name' value = {lastName}/>\r\n            <input onChange = {handleAgeChange} type = 'number' placeholder = 'age' value = {age}/>\r\n            <input onChange = {handleHeightChange} type = 'text' placeholder = 'height' value = {height}/>\r\n            <input onChange = {handleDateChange} type = 'date' placeholder = 'visit date' value = {date}/>\r\n            <button type = 'submit'>Submit</button>\r\n        </form>\r\n        {feeDisplay}\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}